<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Syncing, short for synchronizing, consists in synchronizing the state of a local chain with the state of the chain contained in other machines, called remotes or sources."><meta name="keywords" content="rust, rustlang, rust-lang, sync"><title>smoldot::sync - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings"></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../smoldot/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class="location">Module sync</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li></ul></div><p class="location"><a href="../index.html">smoldot</a></p><div id="sidebar-vars" data-name="sync" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">smoldot</a>::<wbr><a class="mod" href="">sync</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/smoldot/sync.rs.html#18-55" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Syncing, short for synchronizing, consists in synchronizing the state of a local chain with
the state of the chain contained in other machines, called <em>remotes</em> or <em>sources</em>.</p>
<blockquote>
<p><strong>Note</strong>: While the above summary is a bit abstract, in practice it is almost always
done by exchanging messages through a peer-to-peer network.</p>
</blockquote>
<p>Multiple strategies exist for syncing, one for each sub-module, and which one to employ
depends on the amount of information that is desired (e.g. is it required to know the header
and/or body of every single block, or can some blocks be skipped?) and the distance between
the highest block of the local chain and the highest block available on the remotes.</p>
<p>The <a href="../../smoldot/sync/all/index.html" title="all"><code>all</code></a> module represents a good combination of all syncing strategies and should be the
default choice for most clients.</p>
<h1 id="about-safety" class="section-header"><a href="#about-safety">About safety</a></h1>
<p>While there exists various trade-offs between syncing strategies, safety is never part of
these trade-offs. All syncing strategies are safe, in the sense that malicious remotes cannot
corrupt the state of the local chain.</p>
<p>It is possible, however, for a malicious remote to omit some information, such as the
existence of a specific block. If all the remotes that are being synchronized from are
malicious and collude to omit the same information, there is no way for the local node to
learn this information or even to be aware that it is missing an information. This is called
an <strong>eclipse attack</strong>.</p>
<p>For this reason, it is important to ensure a large number and a good distribution of the
sources. In the context of a peer-to-peer network where machines are picked randomly, a
minimum threshold of around 7 peers is generally considered acceptable. Similarly, in the
context of a peer-to-peer network, it is important to establish outgoing connections to other
nodes and not only rely on incoming connections, as there is otherwise the possibility of a
single actor controlling all said incoming connections.</p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="all/index.html" title="smoldot::sync::all mod">all</a></td><td class="docblock-short"><p>All syncing strategies (optimistic, warp sync, all forks) grouped together.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="all_forks/index.html" title="smoldot::sync::all_forks mod">all_forks</a></td><td class="docblock-short"><p><em>All-forks</em> header and body syncing.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="grandpa_warp_sync/index.html" title="smoldot::sync::grandpa_warp_sync mod">grandpa_warp_sync</a></td><td class="docblock-short"><p>Grandpa warp syncing.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="optimistic/index.html" title="smoldot::sync::optimistic mod">optimistic</a></td><td class="docblock-short"><p>Optimistic header and body syncing.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="para/index.html" title="smoldot::sync::para mod">para</a></td><td class="docblock-short"><p>Parachains and parathreads syncing.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="smoldot" data-search-js="../../search-index.js"></div>
    <script src="../../main.js"></script></body></html>