<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Wasm virtual machine, with automatic storage overlay and logs management."><meta name="keywords" content="rust, rustlang, rust-lang, runtime_host"><title>smoldot::executor::runtime_host - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../smoldot/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module runtime_host</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../../index.html">smoldot</a>::<wbr><a href="../index.html">executor</a></p><div id="sidebar-vars" data-name="runtime_host" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">smoldot</a>::<wbr><a href="../index.html">executor</a>::<wbr><a class="mod" href="">runtime_host</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/smoldot/executor/runtime_host.rs.html#18-804" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Wasm virtual machine, with automatic storage overlay and logs management.</p>
<p>The code in this module builds upon the functionnalities of the <a href="../../../smoldot/executor/host/index.html" title="host"><code>host</code></a> module and
implements some of the host function calls. In other words, it is an easier-to-use version of
the <a href="../../../smoldot/executor/host/index.html" title="host"><code>host</code></a> module.</p>
<p>Most of the documentation of the <a href="../../../smoldot/executor/host/index.html" title="host"><code>host</code></a> module also applies here.</p>
<p>In addition to the functionalities provided by the <a href="../../../smoldot/executor/host/index.html" title="host"><code>host</code></a> module, the <code>runtime_host</code> module:</p>
<ul>
<li>Keeps track of the changes to the storage and offchain storage made by the execution, and
provides them at the end. Any storage access takes into account the intermediary list of
changes.</li>
<li>Keeps track of the logs generated by the call and concatenates them into a <a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="String"><code>String</code></a>.</li>
<li>Automatically handles some externalities, such as calculating the Merkle root or storage
transactions.</li>
</ul>
<p>These additional features considerably reduces the number of externals concepts to plug to
the virtual machine.</p>
</div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Config.html" title="smoldot::executor::runtime_host::Config struct">Config</a></td><td class="docblock-short"><p>Configuration for <a href="../../../smoldot/executor/runtime_host/fn.run.html" title="run"><code>run</code></a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Error.html" title="smoldot::executor::runtime_host::Error struct">Error</a></td><td class="docblock-short"><p>Error that can happen during the execution.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.NextKey.html" title="smoldot::executor::runtime_host::NextKey struct">NextKey</a></td><td class="docblock-short"><p>Fetching the key that follows a given one is required in order to continue.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.PrefixKeys.html" title="smoldot::executor::runtime_host::PrefixKeys struct">PrefixKeys</a></td><td class="docblock-short"><p>Fetching the list of keys with a given prefix is required in order to continue.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.StorageGet.html" title="smoldot::executor::runtime_host::StorageGet struct">StorageGet</a></td><td class="docblock-short"><p>Loading a storage value is required in order to continue.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Success.html" title="smoldot::executor::runtime_host::Success struct">Success</a></td><td class="docblock-short"><p>Execution is successful.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SuccessVirtualMachine.html" title="smoldot::executor::runtime_host::SuccessVirtualMachine struct">SuccessVirtualMachine</a></td><td class="docblock-short"><p>Function execution has succeeded. Contains the return value of the call.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.ErrorDetail.html" title="smoldot::executor::runtime_host::ErrorDetail enum">ErrorDetail</a></td><td class="docblock-short"><p>See <a href="../../../smoldot/executor/runtime_host/struct.Error.html#structfield.detail" title="Error::detail"><code>Error::detail</code></a>.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.RuntimeHostVm.html" title="smoldot::executor::runtime_host::RuntimeHostVm enum">RuntimeHostVm</a></td><td class="docblock-short"><p>Current state of the execution.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.run.html" title="smoldot::executor::runtime_host::run fn">run</a></td><td class="docblock-short"><p>Start running the WebAssembly virtual machine.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="smoldot" data-search-js="../../../search-index.js"></div>
    <script src="../../../main.js"></script></body></html>